ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(position = "identity", bins = 30) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 800, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=log10(price), fill=cut)) +
geom_histogram(position = "identity", bins = 30) +
facet_wrap(~color) +
#scale_x_log10() +
scale_y_continuous(breaks = seq(0, 800, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut, weight = cut)) +
geom_histogram(position = "identity", bins = 30) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 800, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut, weight = cut)) +
geom_histogram(position = "identity", bins = 30) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 800, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(position = "identity", bins = 30) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 800, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
warnings()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(position = "identity", bins = 30) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous() +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(position = "identity", bins = 30) +
facet_wrap(~color) +
scale_x_log10() +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(bins = 30) +
facet_wrap(~color) +
scale_x_log10() +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(bins = 38) +
facet_wrap(~color) +
scale_x_log10() +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(bins = 28) +
facet_wrap(~color) +
scale_x_log10() +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(bins = 30) +
facet_wrap(~color) +
scale_x_log10() +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(bins = 30) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0. 600, 200))
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(bins = 30) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 600, 200))
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(bins = 30) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 600, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(bins = 31) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 600, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(bins = 31) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(bins = 29) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(bins = 29) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200), limits = c(0, 700)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(bins = 29) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200), limits = c(0, 800)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(bins = 30) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200), limits = c(0, 800)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(bins = 30) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200), limits = c(0, 700)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram() +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200), limits = c(0, 700)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram() +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 200) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 1) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 0.01) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 0.1) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 0.05) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 0.04) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 0.06) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 0.055) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 0.052) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 0.058) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 0.059) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 0.07) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 0.065) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 0.068) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 0.048) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 0.055) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 0.058) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 0.059) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 0.0585) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 0.0583) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x=price, fill=cut)) +
geom_histogram(binwidth = 0.0582) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamonds, aes(x=price, fill=cut)) +
# binwidth took some trial and error haha
geom_histogram(binwidth = 0.0582) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual', direction = -1) +
# The qual palette looks pretty good on dark
theme_dark()
ggplot(diamonds, aes(x=price, fill=cut)) +
# binwidth took some trial and error haha
geom_histogram(binwidth = 0.0582) +
facet_wrap(~color) +
scale_x_log10() +
scale_y_continuous(breaks = seq(0, 700, 200)) +
scale_fill_brewer(type = 'qual') +
# The qual palette looks pretty good on dark
theme_dark()
ggplot(diamonds, aes(x = price, y = table, color = cut)) +
geom_point()
ggplot(diamonds, aes(x = table, y = price, color = cut)) +
geom_point()
ggplot(diamondsMB, aes(x = table, y = price, color = cut)) +
geom_point() +
scale_fill_brewer(type = 'qual', direction = -1)
ggplot(diamondsMB, aes(x = table, y = price, color = cut)) +
geom_point() +
scale_color_brewer(type = 'qual', direction = -1)
ggplot(diamondsMB, aes(x = table, y = price, color = cut)) +
geom_point() +
scale_x_continuous(breaks = seq(0, 80, 2))
ggplot(diamondsMB, aes(x = table, y = price, color = cut)) +
geom_point() +
scale_x_continuous(breaks = seq(0, 80, 2)) +
scale_color_brewer(type = 'qual', direction = -1)
ggplot(diamondsMB, aes(x = table, y = price, color = cut)) +
geom_point() +
scale_x_continuous(breaks = seq(0, 80, 2), limits = c(0, 80)) +
scale_color_brewer(type = 'qual', direction = -1)
ggplot(diamondsMB, aes(x = table, y = price, color = cut)) +
geom_point() +
scale_x_continuous(breaks = seq(50, 80, 2), limits = c(0, 80)) +
scale_color_brewer(type = 'qual', direction = -1)
ggplot(diamondsMB, aes(x = table, y = price, color = cut)) +
geom_point() +
scale_x_continuous(breaks = seq(50, 80, 2), limits = c(50, 80)) +
scale_color_brewer(type = 'qual', direction = -1)
ggplot(diamondsMB, aes(x = table, y = price, color = cut)) +
geom_point() +
scale_x_continuous(breaks = seq(50, 80, 2), limits = c(50, 80)) +
scale_color_brewer(type = 'qual', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x = x * y * z, y = price, color = cut)) +
geom_point() +
#scale_x_continuous(breaks = seq(50, 80, 2), limits = c(50, 80)) +
scale_color_brewer(type = 'div', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x = x * y * z, y = price, color = cut)) +
geom_point() +
#scale_x_continuous(breaks = seq(50, 80, 2), limits = c(50, 80)) +
scale_y_log10() +
scale_color_brewer(type = 'div', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x = quantile(x * y * z, 0.99), y = price, color = cut)) +
geom_point() +
#scale_x_continuous(breaks = seq(50, 80, 2), limits = c(50, 80)) +
scale_y_log10() +
scale_color_brewer(type = 'div', direction = -1) +
theme_dark()
diamondsMB$vol <- diamondsMB$x * diamondsMB$y * diamondsMB$z
ggplot(diamondsMB, aes(x = vol, y = price, color = cut)) +
geom_point() +
#scale_x_continuous(breaks = seq(50, 80, 2), limits = c(50, 80)) +
scale_y_log10(limits = c(0, quantile(diamondsMB$vol, 0.99))) +
scale_color_brewer(type = 'div', direction = -1) +
theme_dark()
diamondsMB$vol
ggplot(diamondsMB, aes(x = vol, y = price, color = cut)) +
geom_point() +
#scale_x_continuous(breaks = seq(50, 80, 2), limits = c(50, 80)) +
scale_y_log10(limits = c(0, quantile(diamondsMB$vol, 0.99))) +
scale_color_brewer(type = 'div', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x = vol, y = price, color = clarity)) +
geom_point() +
#scale_x_continuous(breaks = seq(50, 80, 2), limits = c(50, 80)) +
scale_y_log10(limits = c(0, quantile(vol, 0.99))) +
scale_color_brewer(type = 'div', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x = vol, y = price, color = clarity)) +
geom_point() +
#scale_x_continuous(breaks = seq(50, 80, 2), limits = c(50, 80)) +
scale_y_log10(limits = c(0, quantile(diamondsMB$vol, .99))) +
scale_color_brewer(type = 'div', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x = vol, y = price, color = clarity)) +
geom_point() +
#scale_x_continuous(breaks = seq(50, 80, 2), limits = c(50, 80)) +
scale_y_log10(limits = c(0, quantile(diamondsMB[vol > 0], .99))) +
scale_color_brewer(type = 'div', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x = vol, y = price, color = clarity)) +
geom_point() +
#scale_x_continuous(breaks = seq(50, 80, 2), limits = c(50, 80)) +
scale_y_log10(limits = c(0, quantile(diamondsMB[diamondsMB$vol > 0], .99))) +
scale_color_brewer(type = 'div', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x = vol, y = price, color = clarity)) +
geom_point() +
#scale_x_continuous(breaks = seq(50, 80, 2), limits = c(50, 80)) +
scale_y_log10(limits = c(0, quantile(diamondsMB$vol[diamondsMB$vol > 0], .99))) +
scale_color_brewer(type = 'div', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x = vol, y = price, color = clarity)) +
geom_point() +
#scale_x_continuous(breaks = seq(50, 80, 2), limits = c(50, 80)) +
scale_y_log10(limits = c(0, quantile(diamondsMB$vol[diamondsMB$vol > 0], .99))) +
scale_color_brewer(type = 'div', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x = vol, y = price, color = clarity)) +
geom_point() +
#scale_x_continuous(breaks = seq(50, 80, 2), limits = c(50, 80)) +
scale_y_log10(limits = c(0, quantile(diamondsMB$vol[diamondsMB$vol > 0], .99)[[1]])) +
scale_color_brewer(type = 'div', direction = -1) +
theme_dark()
quantile(diamondsMB$vol[diamondsMB$vol > 0], .99)
quantile(diamondsMB$vol[diamondsMB$vol > 0], .99)[1]
quantile(diamondsMB$vol[diamondsMB$vol > 0], .99)[[1]]
quantile(diamondsMB$vol[diamondsMB$vol > 0], .99)[[[1]]
ggplot(diamondsMB, aes(x = vol, y = price, color = clarity)) +
geom_point() +
#scale_x_continuous(breaks = seq(50, 80, 2), limits = c(50, 80)) +
scale_y_log10(limits = c(0, quantile(diamondsMB$vol[diamondsMB$vol > 0], .99)[[1]])) +
scale_color_brewer(type = 'div', direction = -1) +
theme_dark()
quantile(diamondsMB$vol, .99)[[1]]
ggplot(diamondsMB, aes(x = vol, y = price, color = clarity)) +
geom_point() +
#scale_x_continuous(breaks = seq(50, 80, 2), limits = c(50, 80)) +
#scale_y_log10(limits = c(0, quantile(diamondsMB$vol, .99)[[1]])) +
scale_color_brewer(type = 'div', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x = vol, y = price, color = clarity)) +
geom_point() +
#scale_x_continuous(breaks = seq(50, 80, 2), limits = c(50, 80)) +
scale_y_log10() +
scale_x_continuous(limits = c(0, quantile(diamondsMB$vol, .99)[[1]])
scale_color_brewer(type = 'div', direction = -1) +
theme_dark()
ggplot(diamondsMB, aes(x = vol, y = price, color = clarity)) +
geom_point() +
#scale_x_continuous(breaks = seq(50, 80, 2), limits = c(50, 80)) +
scale_y_log10() +
scale_x_continuous(limits = c(0, quantile(diamondsMB$vol, .99)[[1]]))
scale_color_brewer(type = 'div') +
theme_dark()
ggplot(diamondsMB, aes(x = vol, y = price, color = clarity)) +
geom_point() +
scale_y_log10() +
scale_x_continuous(limits = c(0, quantile(diamondsMB$vol, .99)[[1]]))
ggplot(diamondsMB, aes(x = vol, y = price, color = clarity)) +
geom_point() +
scale_y_log10() +
scale_x_continuous(limits = c(0, quantile(diamondsMB$vol, .99)[[1]])) +
scale_color_brewer(type = 'div') +
theme_dark()
?subset
diamondsMB <- subset(diamondsMB, vol > 0)
ggplot(diamondsMB, aes(x = vol, y = price, color = clarity)) +
geom_point() +
scale_y_log10() +
scale_x_continuous(limits = c(0, quantile(diamondsMB$vol, .99)[[1]])) +
scale_color_brewer(type = 'div') +
theme_dark()
pf <- read.delim('/datasets/ud651/pseudo_facebook.tsv')
pf <- read.delim('./datasets/ud651/pseudo_facebook.tsv')
setwd(C:/Users/Mahlon/Source/Repos/DAND-P4-Explore-and-Summarize-Data/EDA_Course_Materials/)
setwd("C:/Users/Mahlon/Source/Repos/DAND-P4-Explore-and-Summarize-Data/EDA_Course_Materials/")
pf <- read.delim('./datasets/ud651/pseudo_facebook.tsv')
pf <- read.delim('/datasets/ud651/pseudo_facebook.tsv')
pf <- read.delim('~/datasets/ud651/pseudo_facebook.tsv')
pf <- read.delim('../datasets/ud651/pseudo_facebook.tsv')
pf <- read.delim('/datasets/pseudo_facebook.tsv')
pf <- read.delim('./datasets/pseudo_facebook.tsv')
pf
str(pf)
pf$prop_initiated <- with(pf, friend_count / friendships_initiated)
str(pf)
pf$prop_initiated <- with(pf, friend_count / ifelse(friendships_initiated = 0, 1))
pf$prop_initiated <- with(pf, friend_count / ifelse(friendships_initiated = 0, 1, friendships_initiated))
pf$prop_initiated <- with(pf, friend_count / ifelse(friendships_initiated == 0, 1, friendships_initiated))
str(pf)
pf[pf$prop_initiated == NaN]
pf$prop_initiated == NaN
pf[pf$prop_initiated == 1]
pf[prop_initiated == 1]
pf[prop_initiated == 1]
pf$prop_initiated == NaN
pf$prop_initiated == 0
pf$prop_initiated == 1
pf$prop_initiated == 'NAN'
pf$prop_initiated == 'NaN'
str(pf$prop_initiated)
summary(pf$prop_initiated)
pf$prop_initiated <- pf$friend_count / ifelse(pf$friendships_initiated == 0, 1, pf$friendships_initiated))
pf$prop_initiated <- pf$friend_count / ifelse(pf$friendships_initiated == 0, 1, pf$friendships_initiated)
summary(pf$prop_initiated)
str(pf$prop_initiated)
?ifelse
pf$prop_initiated <- with(pf, friendships_initiated / ifelse(friend_count == 0, 1, friend_count))
str(pf$prop_initiated)
summary(pf$prop_initiated)
