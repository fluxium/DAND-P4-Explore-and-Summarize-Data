by(ys$years_in_school, ys$gender, summary)
library(ggplot2)
library('tidyr')
library('dplyr')
library(xlsx)
ysmen <- read.xlsx("Years in school men 25-34.xlsx", 1)
#head(ysmen)
ysmen <- gather(ys, key = year, value = years_in_school,
-Row.Labels)
yswomen <- read.xlsx("Years in school women 25-34.xlsx", 1)
#head(yswomen)
yswomen <- gather(ys, key = year, value = years_in_school,
-Row.Labels)
ysmen$gender <- factor('M')
yswomen$gender <- factor('F')
# this is basically a union, http://www.statmethods.net/management/merging.html
ys <- rbind(ysmen, yswomen)
ys$year <- substring(ys$year, 2)
ys$year <- factor(ys$year)
ys$years_in_school <- as.numeric(ys$years_in_school)
ys$country <- ys$Row.Labels
ys <- subset(ys, select = -Row.Labels)
sum(is.na(ys$year))
subset(ys, is.na(ys$year))
summary(ys)
# Are there the same number of observations in each year
qplot(year, data = subset(ys, !is.na(ys$years_in_school)), binwidth = 1)
# In these data most years_in_school averages are between 2 and 12
qplot(years_in_school, data = ys, binwidth = 0.1)
qplot(x = year, y = country, data = ys)
# Average years in school globally growing,
ggplot(aes(x = year, y = years_in_school), data =
subset(ys, !is.na(ys$years))) +
geom_point()
# box plot shows the growth more clearly
ggplot(aes(x = year, y = years_in_school), data =
subset(ys, !is.na(ys$years))) +
geom_boxplot()
# Might be interesting to plot the delta(max - min) over time
# This really didn't so anything :(
ggplot(aes(x = year, y = sqrt(max(years_in_school) - min(years_in_school))),
data = subset(ys, !is.na(ys$years))) +
geom_point()
by(ys$years_in_school, ys$gender, summary)
setwd("C:/Users/Mahlon/Source/Repos/DAND-P4-Explore-and-Summarize-Data/EDA_Course_Materials/lesson3")
ysmen <- read.xlsx("Years in school men 25-34.xlsx", 1)
#head(ysmen)
ysmen <- gather(ys, key = year, value = years_in_school,
-Row.Labels)
yswomen <- read.xlsx("Years in school women 25-34.xlsx", 1)
#head(yswomen)
yswomen <- gather(ys, key = year, value = years_in_school,
-Row.Labels)
ysmen$gender <- factor('M')
yswomen$gender <- factor('F')
# this is basically a union, http://www.statmethods.net/management/merging.html
ys <- rbind(ysmen, yswomen)
ys$year <- substring(ys$year, 2)
ys$year <- factor(ys$year)
ys$years_in_school <- as.numeric(ys$years_in_school)
ys$country <- ys$Row.Labels
ys <- subset(ys, select = -Row.Labels)
sum(is.na(ys$year))
subset(ys, is.na(ys$year))
summary(ys)
# Are there the same number of observations in each year
qplot(year, data = subset(ys, !is.na(ys$years_in_school)), binwidth = 1)
# In these data most years_in_school averages are between 2 and 12
qplot(years_in_school, data = ys, binwidth = 0.1)
qplot(x = year, y = country, data = ys)
# Average years in school globally growing,
ggplot(aes(x = year, y = years_in_school), data =
subset(ys, !is.na(ys$years))) +
geom_point()
# box plot shows the growth more clearly
ggplot(aes(x = year, y = years_in_school), data =
subset(ys, !is.na(ys$years))) +
geom_boxplot()
# Might be interesting to plot the delta(max - min) over time
# This really didn't so anything :(
ggplot(aes(x = year, y = sqrt(max(years_in_school) - min(years_in_school))),
data = subset(ys, !is.na(ys$years))) +
geom_point()
by(ys$years_in_school, ys$gender, summary)
ysmen <- read.xlsx("Years in school men 25-34.xlsx", 1)
#head(ysmen)
ysmen <- gather(ysmen, key = year, value = years_in_school,
-Row.Labels)
yswomen <- read.xlsx("Years in school women 25-34.xlsx", 1)
#head(yswomen)
yswomen <- gather(yswomen, key = year, value = years_in_school,
-Row.Labels)
ysmen$gender <- factor('M')
yswomen$gender <- factor('F')
# this is basically a union, http://www.statmethods.net/management/merging.html
ys <- rbind(ysmen, yswomen)
ys$year <- substring(ys$year, 2)
ys$year <- factor(ys$year)
ys$years_in_school <- as.numeric(ys$years_in_school)
ys$country <- ys$Row.Labels
ys <- subset(ys, select = -Row.Labels)
sum(is.na(ys$year))
subset(ys, is.na(ys$year))
summary(ys)
# Are there the same number of observations in each year
qplot(year, data = subset(ys, !is.na(ys$years_in_school)), binwidth = 1)
# In these data most years_in_school averages are between 2 and 12
qplot(years_in_school, data = ys, binwidth = 0.1)
qplot(x = year, y = country, data = ys)
# Average years in school globally growing,
ggplot(aes(x = year, y = years_in_school), data =
subset(ys, !is.na(ys$years))) +
geom_point()
# box plot shows the growth more clearly
ggplot(aes(x = year, y = years_in_school), data =
subset(ys, !is.na(ys$years))) +
geom_boxplot()
# Might be interesting to plot the delta(max - min) over time
# This really didn't so anything :(
ggplot(aes(x = year, y = sqrt(max(years_in_school) - min(years_in_school))),
data = subset(ys, !is.na(ys$years))) +
geom_point()
by(ys$years_in_school, ys$gender, summary)
ggplot(aes(x = years_in_school, y = gender), data = ys) +
geom_boxplot()
ggplot(aes(y = years_in_school, x = gender), data = ys) +
geom_boxplot()
ggplot(aes(y = years_in_school, x = gender), data = ys, ylim = c(0,5)) +
geom_boxplot()
ggplot(aes(y = years_in_school, x = gender), data = ys) +
ylim(c(0,5)) +
geom_boxplot()
ggplot(aes(y = years_in_school, x = gender), data = ys) +
ylim(c(0,2)) +
geom_boxplot()
ggplot(aes(y = years_in_school, x = gender), data = ys) +
ylim(c(10,15)) +
geom_boxplot()
nd the disparity is very evident
ggplot(aes(y = years_in_school, x = gender), data = ys) +
ylim(c(0,2)) +
geom_boxplot()
?facet_wrap
ggplot(aes(y = years_in_school, x = gender), data = ys) +
ylim(c(0,2)) +
geom_boxplot() +
facet_wrap(~year)
ggplot(aes(y = years_in_school, x = gender), data = ys) +
ylim(c(0,5)) +
geom_boxplot() +
facet_wrap(~year)
ggplot(aes(y = years_in_school, x = gender), data = ys) +
ylim(c(10,15)) +
geom_boxplot() +
facet_wrap(~year)
qplot(year, data = subset(ys, !is.na(ys$years_in_school)), binwidth = 1, color = ~gender)
qplot(year, data = subset(ys, !is.na(ys$years_in_school)), binwidth = 1
geom = 'freqpoly', color = ~gender)
qplot(year, data = subset(ys, !is.na(ys$years_in_school)), binwidth = 1,
geom = 'freqpoly', color = ~gender)
?qplot
?aes
qplot(year, data = subset(ys, !is.na(ys$years_in_school)), binwidth = 1,
geom = 'freqpoly', color = gender)
qplot(years_in_school, data = subset(ys, !is.na(ys$years_in_school)), binwidth = 1,
geom = 'freqpoly', color = gender)
qplot(years_in_school, data = subset(ys, !is.na(ys$years_in_school)), binwidth = 0.1,
geom = 'freqpoly', color = gender)
str(ys)
summary(ys)
summary(ys$years_in_school)
qplot(years_in_school, data = ys, binwidth = 0.1)
ggsave('years_in_school_hist.png')
qplot(years_in_school, data = subset(ys, !is.na(ys$years_in_school)), binwidth = 0.1,
geom = 'freqpoly', color = gender)
ggsave(years_in_school_freqpoly_by_gender.png)
ggsave("years_in_school_freqpoly_by_gender.png")
ggplot(aes(y = years_in_school, x = gender), data = ys) +
ylim(c(0,2)) +
geom_boxplot()
ggplot(aes(y = years_in_school, x = gender), data = ys) +
ylim(c(0,5)) +
geom_boxplot()
ggsave('years_in_school_box_by_gender.png')
qplot(years_in_school, data = subset(ys, !is.na(ys$years_in_school)), binwidth = 0.1,
geom = 'freqpoly', color = gender, xlim = c(0, 5))
gggsave('years_in_school_freq_zoomed_0_5.png')
ggsave('years_in_school_freq_zoomed_0_5.png')
